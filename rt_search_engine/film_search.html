<!doctype html>
<html>
<head>
<meta charset="UTF-8" />
<title>Recherche de Films</title>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/jquery.smart_autocomplete.js"></script>
		<script type="text/javascript">
		//merci Ã  http://www.laktek.com/2011/03/03/introducing-jquery-smart-autocomplete/
		
		
		var dtFilm = [];

		
		function chargeData(str){

		if(str.length>=3){
			chargeData(this.value);

			$.post("rtjson.php"
					, {"json":1, "filmTitle":str},
					 function(data){
						dtFilm=[];
						var films = data.movies;
						for(i=0; i<films.length; i++) {
							dtFilm.push(films[i].title);
						}

					   $('#titleFilm').smartAutoComplete({source: dtFilm});
						
					 }, "json");			
			
		}				
		</script>
		<style type="text/css">
		ul.smart_autocomplete_container li {list-style: none; cursor: pointer; margin: 10px 0; padding: 5px; background-color: #E3EBBC; }
    	li.smart_autocomplete_highlight {background-color: #C1CE84;}
		</style>
</head>
<body >
<form action="rt.php" method="post">
<input type="text" keyup="chargeData()" id="titleFilm" size="50" value="" name="filmTitle">
<input type="submit" value="Search for film" >
</form>
<script type="text/javascript">
	document.getElementById("titleFilm").onkeyup = function() {
		chargeData(this.value);
	}
</script>
</body>
</html>